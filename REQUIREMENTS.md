# 個人ポータルサイト - 要件定義書

## 1. プロジェクト概要

### プロジェクト名

個人用ポータルサイト (My Personal Portal)

### 開発期間

2025 年 10 月 〜 進行中

### 開発者

koki.ishikawa

### 目的

日常的に使用する情報やツールを一箇所に集約し、効率的な情報管理を実現

### 対象ユーザー

開発者本人（個人利用）

---

## 2. 機能要件

### Phase 1: 必須機能（実装済み・一部進行中）

#### 1. ホーム画面 ✅

**1-1. カレンダー表示** ✅

- 月次カレンダー
- 今日の日付のハイライト
- 月間移動機能

**1-2. タスク管理** ✅

- タスクの追加・編集・削除
- 完了/未完了の切り替え
- タスク一覧表示
- 楽観的更新による即時レスポンス

**1-3. スケジュール管理** ✅

- 予定の作成・編集・削除
- 日付フィルタリング
- 今日の予定表示
- 全スケジュール表示機能

#### 2. よく使うサイトリンク集 ✅

- ブックマークの登録・編集・削除
- カテゴリ別表示（カラータグ）
- 絵文字アイコン対応
- サイドメニューで表示

#### 3. 認証機能 ✅

- Google OAuth 2.0 認証
- NextAuth 統合
- Django JWT トークン認証
- ユーザープロフィール管理

#### 4. ダークモード ✅

- ライト/ダークモード切り替え
- localStorage による設定永続化
- 初回ロード時のチラつき防止

#### 5. クイック検索バー ⏳

- 複数検索エンジン対応（未実装）
  - Google
  - YouTube
  - AWS Docs
  - Udemy
- キーボードショートカット（Ctrl+K）

#### 6. 天気情報 ⏳

- 現在地の天気取得（未実装）
- 気温・降水確率表示
- 1 日 1 回自動更新

---

### Phase 2: 拡張機能（予定）

#### 7. 推しブログ更新情報

- ブログ URL の登録
- 定期的な更新チェック（15 分ごと）
- 新着記事の通知
- 既読/未読管理

#### 8. 習慣トラッカー

- 習慣の登録・編集・削除
- 日々の実行記録
- 週間表示（7 日分）
- 連続記録日数の表示

#### 9. ダークモード拡張

- 自動切り替え機能（時間帯指定）
- カスタムテーマ設定

---

## 3. 技術スタック

### フロントエンド

- Next.js 15.5.4（App Router）
- React 19.1.0
- TypeScript 5.x
- Tailwind CSS 4.x
- NextAuth 4.24.13
- Lucide React（アイコン）

### バックエンド

- Python 3.12
- Django 5.2.7
- Django REST Framework 3.16.1
- Django SimpleJWT 5.3.1
- Celery + Redis（定期実行）※未実装
- BeautifulSoup4（スクレイピング）※未実装

### データベース

- PostgreSQL 15（開発環境：Docker）

### インフラ（開発環境）

- Docker / Docker Compose
- GitHub Actions（CI/CD、pytest自動実行）

### インフラ（本番環境・予定）

- **Vercel**（フロントエンドホスティング）
- **AWS EC2**（バックエンド API）
  - インスタンスタイプ: t3.micro
- **AWS RDS**（PostgreSQL）
  - インスタンスタイプ: db.t4g.micro
- **AWS Lambda**（定期実行タスク）
- **AWS Route 53**（DNS 管理）

### 開発ツール

- Git / GitHub
- VS Code
- Docker Desktop
- Postman（API テスト）
- pytest（自動テスト）

---

## 4. 開発の進捗状況

### Phase 1: MVP 開発（完了・一部進行中）

**✅ 完了した項目**

- Next.js 15 + React 19 セットアップ
- Docker 環境構築（フロントエンド・バックエンド・DB）
- Django + PostgreSQL セットアップ
- REST API 実装（タスク、スケジュール、ブックマーク）
- Google OAuth 2.0 認証実装
- ダークモード実装
- CI/CD 構築（GitHub Actions + pytest）
- カレンダー・タスク・スケジュール・ブックマーク機能

**⏳ 進行中・未実装の項目**

- 天気 API 連携
- 検索バー実装
- Vercel デプロイ
- AWS デプロイ（EC2/RDS）

---

### Phase 2: 拡張機能（予定）

**今後の予定**

- 推しブログ機能（スクレイピング、Celery、Lambda）
- 習慣トラッカー（DB 設計、API・フロント実装）
- ダークモード拡張（時間帯自動切り替え）

---

## 5. 成功基準

### Phase 1 完了の定義

**機能面**

- [x] タスクの追加・編集・削除ができる
- [x] カレンダーが表示される
- [x] ブックマークが機能する
- [x] スケジュール管理ができる
- [x] ダークモードが機能する
- [x] 認証機能が動作する
- [ ] 検索バーが機能する
- [ ] 天気情報が表示される

**技術面**

- [x] Docker 環境で開発できる
- [x] API 通信ができている
- [x] データベースに保存できている
- [x] エラーなく動作する
- [x] CI/CD が動作している（pytest 自動実行）
- [x] レスポンシブ対応できている
- [ ] Vercel でフロントエンドが公開されている
- [ ] AWS でバックエンドが稼働している

**利用面**

- [x] 自分で毎日使える状態（開発環境）
- [ ] ブラウザのホームページに設定
- [ ] スマホからも使える（本番環境）

**ポートフォリオ**

- [x] README.md が整備されている
- [x] GitHub にコードが公開されている
- [x] 人に見せられるレベルのコード品質

---

### Phase 2 完了の定義

**機能面**

- [ ] 推しブログの更新が自動で取得される
- [ ] 習慣が記録できる
- [ ] ダークモード自動切り替えが動作する
- [ ] 天気情報が表示される
- [ ] 検索バーが機能する

**統合**

- [ ] すべての機能が連携している
- [ ] 安定して運用できている
- [ ] 本番環境にデプロイされている

---

## 6. コスト

### 予算

- **開発期間（3 ヶ月）**: 月額 約 3,000 円 = 総額 約 9,000 円
- **運用時**: 月額 約 2,000 円（自動起動・停止活用時）

### 内訳

- Vercel: 無料
- EC2: 約$5-7/月
- RDS: 約$8-12/月
- Route 53: 約$1/月
- Lambda: 無料枠内
- データ転送: 無料枠内

---

## 7. 制約事項・リスク

### 制約事項

- 個人利用のため認証機能は不要
- 同時アクセスは 1 人のみを想定
- モバイルアプリ化は Phase 3 以降

### 想定リスク

**リスク 1: AWS 利用料金の超過**

- 影響: 予算オーバー
- 対策: CloudWatch アラート設定、自動起動・停止

**リスク 2: スクレイピング対象サイトの仕様変更**

- 影響: 推しブログ機能が動作しなくなる
- 対策: エラー通知機能、複数サイト対応

**リスク 3: 開発期間の遅延**

- 影響: Phase 1 が完成しない
- 対策: 機能を削ってでも MVP を完成させる

---

## 8. 今後の拡張予定

### Phase 3 候補機能

- 学習記録機能
- 簡易家計簿
- 冷蔵庫管理
- ポモドーロタイマー
- Google Calendar 連携
- GitHub アクティビティ表示
- 推しの YouTube 更新通知

---

**作成日**: 2025 年 10 月 12 日
**最終更新**: 2025 年 12 月 1 日
**バージョン**: 1.1
**作成者**: koki.ishikawa
